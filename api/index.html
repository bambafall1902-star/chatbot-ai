<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Chatbot IA</title>
<style>
body{font-family:Arial;background:#f2f2f2;display:flex;justify-content:center;align-items:center;height:100vh;}
#chat{width:350px;background:white;border-radius:10px;padding:10px;}
.msg{margin:8px;padding:8px;border-radius:8px;}
.user{background:#2563eb;color:white;text-align:right;}
.bot{background:#e5e7eb;}
</style>
</head>
<body>

<div id="chat">
  <div id="messages"></div>
  <input id="input" placeholder="Ã‰cris ici">
  <button onclick="send()">Envoyer</button>
</div>

<script>
async function send(){
  const input=document.getElementById("input");
  const msg=input.value;
  if(!msg)return;
  add(msg,"user");
  input.value="";

  const res=await fetch("/api/chat",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({message:msg})
  });

  const data=await res.json();
  add(data.reply,"bot");
}

function add(text,type){
  const div=document.createElement("div");
  div.className="msg "+type;
  div.innerText=text;
  document.getElementById("messages").appendChild(div);
}
</script>

</body>
</html>
